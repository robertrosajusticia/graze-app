{% extends "base.html" %}
{% block content %}


<div class="content animate-panel">

<div class="row">
    <div class="col-lg-12">
        <div class="hpanel">
            <div class="panel-heading">
                <div class="panel-tools">
                    <a class="showhide"><i class="fa fa-chevron-up"></i></a>
                    <a class="closebox"><i class="fa fa-times"></i></a>
                </div>
                Select a config file or create a new one
            </div>
            <div class="panel-body">
                <div class="table-responsive">
                <table cellpadding="1" cellspacing="1" class="table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Site</th>
                        <th>Start URL</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody>
				    {% for item in items %}    		
				    	<tr>
			    			<td>{{ item.name }}</td>		
			    			<td>{{ item.config.get('site') }}</td>
                            <td>{{ item.config.get('start_url') }}</td>
			    			<td><a href="javascript:void(0);" onClick="edit('{{ item._id}}');">Edit</a></td>
							<td><a href="javascript:void(0);" onClick="del('{{ item._id}}');">Delete</a></td>   			
			    		</tr>    			
				    {% endfor %}  
                    </tbody>
                </table>
</div>

    <p>
    	<input id="newbutton" class="ui-button" value="Create new config file">
    </p>    

	<script>
		$(function(){
		  $("#configs").addClass("active");
	      $("#newbutton").click( function() {
              window.location.replace("/config_new");
	          return false;
	      });
	    });	   

		function edit(id) {
			window.location.replace("/config_edit?id="+id); 	
			return false;
		}		

		function del(id) {
			window.location.replace("/config_delete?id="+id);
			return false;
		}

	</script>    

{% endblock %}